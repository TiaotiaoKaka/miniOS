<template>
	<el-dialog 
		v-model="dialogTableVisible" 
		:title="title" 
		draggable="true" 
		:modal="false" 
		:width="width"
		>
		<div v-loading="loading">
			<iframe 
				:src="url" 
				ref="myIframe" 
				frameborder="0" 
				height="400px" 
				width="100%" 
				@load="onIframeLoad" 
			    @error="onIframeError"/>
		</div>
	    
	</el-dialog>
	<div class="right">
	        <div><h2 style="text-align: center;margin: 10px;">桌面应用</h2></div>
	        <div class="apps">
				<!-- 桌面应用展示 -->
	            <div class="app" v-for="(item, i) in apps">
					<div :key="i" @click="open(item)">
						<div v-html="item.img"></div>
						<p class="name">{{item.name}}</p>
					</div>
	            </div>
	        </div>
	    </div>

</template>

<script setup>
import { ref, reactive, computed, watch } from 'vue'
const dialogTableVisible = ref(false)
const myIframe = ref(null)
const loading = ref(true) // 用于记录 iframe 是否已加载完成
const url = ref('')
const title = ref('')
const width = ref('')

const onIframeLoad = ()=> {
      loading.value = false // iframe 加载完成，将状态设置为 true
}

watch(url, () => {	// 监听url变量
	loading.value = true
})

// app信息
const apps = ref([
	{
		name: 'QQ',
		img: '<svg t="1703945360404" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2045" width="200" height="200"><path d="M824.8 613.2c-16-51.4-34.4-94.6-62.7-165.3C766.5 262.2 689.3 112 511.5 112 331.7 112 256.2 265.2 261 447.9c-28.4 70.8-46.7 113.7-62.7 165.3-34 109.5-23 154.8-14.6 155.8 18 2.2 70.1-82.4 70.1-82.4 0 49 25.2 112.9 79.8 159-26.4 8.1-85.7 29.9-71.6 53.8 11.4 19.3 196.2 12.3 249.5 6.3 53.3 6 238.1 13 249.5-6.3 14.1-23.8-45.3-45.7-71.6-53.8 54.6-46.2 79.8-110.1 79.8-159 0 0 52.1 84.6 70.1 82.4 8.5-1.1 19.5-46.4-14.5-155.8z" p-id="2046"></path></svg>',
		url: 'https://xclient.info/',
		width: '80%'
	},
	{
		name: '微信',
		img: '<svg t="1703945411226" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3033" width="200" height="200"><path d="M571.648 511.94c-10.257 0-20.517 9.525-20.517 21.25 0 9.527 10.255 19.053 20.517 19.053 15.393 0 26.385-9.527 26.385-19.053 0-11.724-10.99-21.25-26.385-21.25zM504.225 413c16.123 0 26.385-10.257 26.385-25.651 0-16.123-10.261-25.649-26.385-25.649-15.39 0-30.048 9.527-30.048 25.649-0.001 15.396 14.659 25.651 30.048 25.651z m8.062-350.508c-248.427 0-449.813 201.386-449.813 449.813 0 248.425 201.386 449.812 449.813 449.812 248.425 0 449.812-201.386 449.812-449.812 0.001-248.427-201.385-449.813-449.812-449.813z m-85.012 563.773c-27.119 0-46.906-4.394-72.556-11.725L280.7 651.92l21.257-63.031c-52.035-36.64-82.818-82.811-82.818-139.243 0-99.67 93.808-175.889 208.137-175.889 101.135 0 191.279 60.097 208.867 145.113-7.328-1.469-13.926-2.199-19.788-2.199-99.67 0-176.619 74.75-176.619 164.894 0 15.388 2.199 29.313 5.863 43.972-5.863 0.728-12.461 0.728-18.324 0.728z m305.607 71.82l14.655 52.77-55.697-31.512c-21.252 4.394-41.773 10.99-63.025 10.99-98.206 0-175.889-67.422-175.889-150.968 0-83.547 77.685-150.97 175.889-150.97 93.072 0 176.619 67.423 176.619 150.97 0 46.9-31.512 88.673-72.552 118.721zM359.117 361.7c-15.39 0-31.512 9.527-31.512 25.649 0 15.395 16.122 25.656 31.512 25.656 14.66 0 26.385-10.261 26.385-25.656 0-16.122-11.725-25.649-26.385-25.649z m327.595 150.24c-10.995 0-20.522 9.525-20.522 21.25 0 9.527 9.527 19.053 20.522 19.053 14.655 0 25.649-9.527 25.649-19.053 0-11.724-10.994-21.25-25.649-21.25z m0 0z" fill="#24C891" p-id="3034"></path></svg>',
		url: 'https://www.mindshow.fun/#/login',
		width: '80%'
	},
	{
		name: '支付宝',
		img: '<svg t="1703945447037" class="icon" viewBox="0 0 1325 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4023" width="200" height="200"><path d="M240.941176 512c0 233.411765 188.235294 421.647059 421.647059 421.647059s421.647059-188.235294 421.647059-421.647059S896 90.352941 662.588235 90.352941 240.941176 278.588235 240.941176 512z" fill="#5A9EF7" p-id="4024"></path><path d="M751.435294 564.705882s15.058824-21.082353 30.117647-63.247058c16.564706-42.164706 18.070588-66.258824 18.070588-66.258824l-120.470588-1.505882v-40.658824l146.070588-1.505882v-30.117647H677.647059v-66.258824h-72.282353V361.411765H466.823529v30.117647l137.035295-1.505883v45.176471h-108.42353v24.094118h225.882353c-1.505882 15.058824-6.023529 28.611765-10.541176 42.164706-9.035294 22.588235-18.070588 43.670588-18.070589 43.670588s-105.411765-37.647059-162.635294-37.647059c-55.717647 0-123.482353 22.588235-131.011764 87.341176-6.023529 64.752941 31.623529 100.894118 85.835294 112.941177 52.705882 12.047059 102.4 0 146.070588-21.082353 43.670588-21.082353 85.835294-69.270588 85.835294-69.270588l224.376471 109.929411s13.552941-21.082353 24.094117-40.658823c7.529412-13.552941 13.552941-28.611765 19.576471-42.164706l-233.411765-79.811765z m-231.905882 106.917647c-79.811765 0-94.870588-39.152941-94.870588-66.258823 0-27.105882 16.564706-58.729412 84.329411-63.247059 66.258824-4.517647 158.117647 48.188235 158.117647 48.188235s-67.764706 81.317647-147.57647 81.317647z" fill="#FFFFFF" p-id="4025"></path></svg>',
		url: 'https://www.latexlive.com/##',
		width: '80%'
	},{
		name: '应用市场',
		img: '<svg t="1704161274091" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1497" width="200" height="200"><path d="M562.816 59.52l4.16 2.112 4.096 2.24 297.856 172.736c35.328 20.48 57.472 57.6 59.008 98.304l0.064 4.416v170.048a50.624 50.624 0 1 1-101.248 0V381.44L564.736 537.408a16 16 0 0 1-4.736 1.792v426.56a117.76 117.76 0 0 1-102.976-3.392l-4.096-2.24-297.856-172.736a118.72 118.72 0 0 1-59.008-98.304l-0.064-4.416V339.328c0-40.96 20.992-78.848 55.36-100.48l3.712-2.24L452.928 63.872A117.76 117.76 0 0 1 562.816 59.52z m253.184 596.48a48 48 0 0 1 48 48v64h64a48 48 0 1 1 0 96h-64v64a48 48 0 1 1-96 0v-64h-64a48 48 0 1 1 0-96h64v-64a48 48 0 0 1 48-48zM197.248 379.392v305.28c0 5.376 2.56 10.432 6.784 13.568l1.664 1.152 258.304 149.76V539.072a15.936 15.936 0 0 1-3.2-1.024l-1.792-0.96-261.76-157.824zM505.6 150.912l-2.048 1.024-253.696 147.072L507.52 454.336a16 16 0 0 1 4.544 4.096 14.784 14.784 0 0 1 2.816-2.88l1.664-1.216 259.392-154.304-255.488-148.096A16.832 16.832 0 0 0 505.6 151.04z" fill="#1296db" p-id="1498"></path></svg>',
		url: 'https://www.latexlive.com/##',
		width: '80%'
	},
	
])



const open = (app)=> {
	// debugger
	url.value = app.url
	title.value = app.name
	width.value = app.width
	dialogTableVisible.value = true
	
}
</script>

<style>
.dialog {
}
.right {
	text-align: center;
	/* width: 50%; */
	background-color: #ffffff;
	padding: 20px;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
	opacity: 0.9;
	height: 450px; /* 设置容器高度 */
	overflow-y: scroll; /* 设置水平滚动条 */
	overflow-x: hidden; /* 隐藏垂直滚动条 */
	margin: 5px;
	border-radius: 10px;
}
.apps {
	width: 100%; /* 固定容器宽度 */
	display: grid;
	grid-template-columns: 20% 20% 20% 20% 20%;
}

.app {
	border-radius: 50px;
	transition: box-shadow 0.5s ease; /* 添加过渡效果 */
	opacity: 1;
	flex: 1;
	text-align: center;
	margin: 10px; /* 设置每个app之间的间隔 */
	width: 100%;

}

.app:hover {
	background-color: #f0f0f0; /* 设置app的背景颜色 */
	box-shadow: 0 20px 20px rgba(0, 0, 0, 0.1); /* 鼠标悬浮时添加阴影效果 */
}
.app:last-child {
	margin-right: 0; /* 移除最后一个app的右边距 */
}
.icon {
	width: 50px;
	height: 50px;
}
.name {
	font-size: 16px;
	font-weight: bold;
}
</style>